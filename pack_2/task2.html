<!DOCTYPE HTML>
<html>

    <head>
        <title>task no. 2</title>
        <meta charset="UTF-8">

        <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i%7cWork+Sans:400,500,700" rel="stylesheet" type="text/css">

    </head>

<body>


<p>Task no. 2</p>

<script>

    while(true)
    {
        let target_lenght = prompt("enter target lenght");
        let str_replace = prompt("enter your text for replace");
        str_replace = " "+ str_replace + " ";

        let text = prompt("enter your text");
        let text_copy = text;
        let re_punct= /[,.!?;:()]/;

        let max_len = Number(text.length) * 2;

        for (let i = 0;  i < max_len; i++ )         //удаляем знаки припинания
            text = text.replace(re_punct, ' ');

        let tagList = text.split( /\s+/);   //получаем слова в виде массива
        for(key in tagList){
            if(tagList[key].length  == target_lenght){

                let junk = String("\\s+" + String(tagList[key]) + "\\s+");  //ставим запятые вокруг слова (иначе будут баги)
                let buffer = new RegExp(junk);
                //alert(buffer);

                text = text.replace(buffer, str_replace);  //удаляем
                }
        }

        alert(`text before changing ${text_copy}`)
        alert(`text after changing ${text}`)
    }

</script>

<p>Task is complete.</p>

</body>

</html>


